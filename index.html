<!doctype html>
<html lang="id">
  <head>
    <!-- Prevent browser caching / force revalidation -->
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Undangan Pernikahan Joni & Verny</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/latest/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="ribbon"><span>Demo</span></div>

    <!-- Tombol QR -->
    <button class="btn-qr" data-bs-toggle="modal" data-bs-target="#qrModal">
      <i class="fas fa-qrcode"></i>
    </button>

    <!-- Floating Navigation -->
    <nav class="floating-nav">
      <a href="#home" title="Home"><i class="fas fa-home"></i></a>
      <a href="#mempelai" title="Mempelai"><i class="fas fa-heart"></i></a>
      <a href="#acara" title="Acara"><i class="fas fa-calendar-alt"></i></a>
      <a href="#galeri" title="Hadiah"><i class="fas fa-gift"></i></a>
      <a href="#ucapan" title="Ucapan"><i class="fas fa-comment"></i></a>
    </nav>

    <!-- Section 1: Home (Slideshow & Countdown) -->
    <section id="home" class="p-0">
      <div
        id="heroCarousel"
        class="carousel slide carousel-fade"
        data-bs-ride="carousel"
      >
        <div class="carousel-inner">
          <div class="carousel-item active carousel-item-1"></div>
          <div class="carousel-item carousel-item-2"></div>
        </div>
        <div class="overlay-content">
          <p class="mb-0">The Wedding of</p>
          <h1 class="mempelai-name">Joni & Verny</h1>
          <p>Minggu, 19 April 2026</p>
          <div id="countdown">
            <div class="countdown-item">
              <span id="days">00</span><br /><small>Hari</small>
            </div>
            <div class="countdown-item">
              <span id="hours">00</span><br /><small>Jam</small>
            </div>
            <div class="countdown-item">
              <span id="mins">00</span><br /><small>Menit</small>
            </div>
            <div class="countdown-item">
              <span id="secs">00</span><br /><small>Detik</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 2: Mempelai (Parallax Pink) -->
    <section id="mempelai" class="parallax section-pink">
      <div class="container text-center">
        <h2 class="display-3 mb-5">Kedua Mempelai</h2>
        <div class="row align-items-center">
          <div class="col-md-5">
            <h3 class="mempelai-name">Joni Hamarlambang</h3>
            <p>Putra dari Bapak Fulan & Ibu Fulanah</p>
          </div>
          <div class="col-md-2">
            <h2 class="display-4 text-white">&</h2>
          </div>
          <div class="col-md-5">
            <h3 class="mempelai-name">Verny Jinianty</h3>
            <p>Putri dari Bapak Fulan & Ibu Fulanah</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3: Acara (Parallax Blue) -->
    <section id="acara" class="parallax section-blue">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-8 text-center bg-white p-5 rounded-4 shadow">
            <h2 class="mb-4">Informasi Acara</h2>
            <div class="row">
              <div class="col-md-6 mb-4">
                <i class="fas fa-ring fa-3x mb-3 text-primary"></i>
                <h4>Akad Nikah</h4>
                <p>09.00 - 10.30 WIB</p>
              </div>
              <div class="col-md-6 mb-4">
                <i class="fas fa-glass-cheers fa-3x mb-3 text-danger"></i>
                <h4>Resepsi</h4>
                <p>11.00 - Selesai</p>
              </div>
            </div>
            <hr />
            <div
              class="map-card p-3"
              onclick="
                window.open(
                  'https://www.google.com/maps/search/?api=1&query=-7.2823682,112.6994013',
                  '_blank',
                )
              "
            >
              <i class="fas fa-map-marker-alt text-danger mb-2"></i>
              <h5>Lokasi Acara</h5>
              <p>Jalan Maju Mundur 12, Surabaya</p>
              <small class="text-muted">(Klik untuk Navigasi Map)</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 4: Gift (Transfer) -->
    <section id="galeri" class="py-5 bg-light">
      <div class="container text-center py-5">
        <h2 class="mb-5">Wedding Gift</h2>
        <div class="row justify-content-center">
          <div class="col-md-4">
            <div class="card border-0 shadow-sm p-4">
              <i class="fas fa-credit-card fa-2x mb-3 text-primary"></i>
              <h5>BCA</h5>
              <h4 id="accountNum" class="strike">12374892</h4>
              <p class="strike">a/n Joni Hamarlambang</p>
              <span class="copy-btn" onclick="copyText('12374892')"
                >Salin Nomor Rekening</span
              >
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 5: Ucapan (Live Chat Style) -->
    <section id="ucapan" class="py-5 bg-white">
      <div class="container py-5">
        <h2 class="text-center mb-5">Kirim Ucapan & Doa</h2>
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div class="mb-3">
              <input
                type="text"
                id="guestName"
                class="form-control"
                placeholder="Nama Anda"
              />
            </div>
            <div class="mb-3">
              <textarea
                id="guestMessage"
                class="form-control"
                rows="3"
                placeholder="Tulis ucapan selamat..."
              ></textarea>
            </div>
            <button id="sendBtn" class="btn btn-primary w-100 mb-4">
              Kirim Ucapan
            </button>

            <div id="chat-box">
              <!-- Dummy Messages -->
              <div class="chat-bubble">
                <strong>Budi:</strong><br />Selamat menempuh hidup baru Joni &
                Verny!
              </div>
              <div class="chat-bubble">
                <strong>Santi:</strong><br />Semoga menjadi keluarga sakinah
                mawaddah warahmah.
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal QR -->
    <div class="modal fade" id="qrModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-center p-4">
          <h3>QR Code Check-In</h3>
          <p>Tunjukkan QR ini kepada petugas penerima tamu</p>
          <div class="py-4">
            <img
              src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=JoniVernyWedding_GuestID_12345"
              alt="QR Code"
            />
          </div>
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Tutup
          </button>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div
        id="liveToast"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
      >
        <div class="toast-header bg-primary text-white">
          <strong class="me-auto">Notifikasi</strong>
          <button
            type="button"
            class="btn-close btn-close-white"
            data-bs-dismiss="toast"
          ></button>
        </div>
        <div class="toast-body" id="toastMsg">Pesan terkirim!</div>
      </div>
    </div>

    <!-- Scripts -->
    <!-- Force cache-busting reload when page is restored from bfcache / back-forward -->
    <!-- Keep it as inline! -->
    <script>
      (function () {
        function bustCacheOnce() {
          if (sessionStorage.getItem("cache_busted")) return;
          sessionStorage.setItem("cache_busted", "1");
          var base =
            location.protocol + "//" + location.host + location.pathname;
          var hash = location.hash || "";
          var sep = location.search ? "&" : "?";
          var newUrl = base + location.search + sep + "_=" + Date.now() + hash;
          location.replace(newUrl);
        }

        window.addEventListener("pageshow", function (e) {
          var navEntries =
            (performance.getEntriesByType &&
              performance.getEntriesByType("navigation")) ||
            [];
          var navType =
            (navEntries[0] && navEntries[0].type) ||
            (performance.navigation && performance.navigation.type);
          if (e.persisted || navType === "back_forward" || navType === 2) {
            bustCacheOnce();
          }
        });
      })();
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/latest/js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
  </body>
</html>
